<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="ExDoc v0.34.0">
    <meta name="project" content="Venomous v0.7.6">


    <title>README â€” Venomous v0.7.6</title>
    <link rel="stylesheet" href="dist/html-elixir-K5ICTFVY.css" />


    <script src="dist/handlebars.runtime-NWIB6V2M.js"></script>
    <script src="dist/handlebars.templates-K7URE6B4.js"></script>
    <script src="dist/sidebar_items-84A0915C.js"></script>
    <script src="docs_config.js"></script>
    <script async src="dist/html-Q4PYR6ZR.js"></script>

  </head>
  <body data-type="extras" class="page-extra">
    <script>

      try {
        var settings = JSON.parse(localStorage.getItem('ex_doc:settings') || '{}');

        if (settings.theme === 'dark' ||
           ((settings.theme === 'system' || settings.theme == null) &&
             window.matchMedia('(prefers-color-scheme: dark)').matches)
           ) {
          document.body.classList.add('dark')
        }
      } catch (error) { }
    </script>

<div class="body-wrapper">

<button id="sidebar-menu" class="sidebar-button sidebar-toggle" aria-label="toggle sidebar" aria-controls="sidebar">
  <i class="ri-menu-line ri-lg" title="Collapse/expand sidebar"></i>
</button>

<nav id="sidebar" class="sidebar">

  <div class="sidebar-header">
    <div class="sidebar-projectInfo">

        <a href="Venomous.html" class="sidebar-projectImage">
          <img src="assets/logo.png" alt="Venomous" />
        </a>

      <div>
        <a href="Venomous.html" class="sidebar-projectName" translate="no">
Venomous
        </a>
        <div class="sidebar-projectVersion" translate="no">
          v0.7.6
        </div>
      </div>
    </div>
    <ul id="sidebar-listNav" class="sidebar-listNav" role="tablist">
      <li>
        <button id="extras-list-tab-button" role="tab" data-type="extras" aria-controls="extras-tab-panel" aria-selected="true" tabindex="0">
Pages
        </button>
      </li>

        <li>
          <button id="modules-list-tab-button" role="tab" data-type="modules" aria-controls="modules-tab-panel" aria-selected="false" tabindex="-1">
            Modules
          </button>
        </li>


        <li>
          <button id="tasks-list-tab-button" role="tab" data-type="tasks" aria-controls="tasks-tab-panel" aria-selected="false" tabindex="-1">
            <span translate="no">Mix</span> Tasks
          </button>
        </li>

    </ul>
  </div>

  <div id="extras-tab-panel" class="sidebar-tabpanel" role="tabpanel" aria-labelledby="extras-list-tab-button">
    <ul id="extras-full-list" class="full-list"></ul>
  </div>

    <div id="modules-tab-panel" class="sidebar-tabpanel" role="tabpanel" aria-labelledby="modules-list-tab-button" hidden>
      <ul id="modules-full-list" class="full-list"></ul>
    </div>


    <div id="tasks-tab-panel" class="sidebar-tabpanel" role="tabpanel" aria-labelledby="tasks-list-tab-button" hidden>
      <ul id="tasks-full-list" class="full-list"></ul>
    </div>

</nav>

<main class="content">
  <output role="status" id="toast"></output>

  <div id="content" class="content-inner">
    <div class="top-search">
      <div class="search-settings">
        <form class="search-bar" action="search.html">
          <label class="search-label">
            <span class="sr-only">Search documentation of Venomous</span>
            <input name="q" type="text" class="search-input" placeholder="Press / to search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" />
          </label>
          <button type="submit" class="search-button" aria-label="Submit Search">
            <i class="ri-search-2-line ri-lg" aria-hidden="true" title="Submit search"></i>
          </button>
          <button type="button" tabindex="-1" class="search-close-button" aria-hidden="true">
            <i class="ri-close-line ri-lg" title="Cancel search"></i>
          </button>
        </form>
        <div class="autocomplete">
        </div>
        <button class="icon-settings display-settings">
          <i class="ri-settings-3-line"></i>
          <span class="sr-only">Settings</span>
        </button>
      </div>
    </div>

<div id="top-content">
  <h1>

      <a href="https://github.com/RustySnek/Venomous/blob/main/README.md#L1" title="View Source" class="icon-action" rel="help">
        <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        <span class="sr-only">View Source</span>
      </a>


    <span>README</span>
  </h1>

<p><img src="https://github.com/RustySnek/Venomous/blob/master/assets/venomous_logo.png" alt="Venomous"/></p><blockquote><p>A wrapper for managing concurrent <a href="http://erlport.org/">Erlport</a> Python processes with ease.</p></blockquote><p><a href="https://github.com/rustysnek/venomous/actions/workflows/elixir.yml"><img src="https://github.com/rustysnek/venomous/actions/workflows/elixir.yml/badge.svg" alt="CI"/></a>
<a href="https://hex.pm/packages/venomous"><img src="https://img.shields.io/hexpm/v/venomous" alt="Hex.pm"/></a>
<a href="https://hex.pm/packages/venomous"><img src="http://img.shields.io/hexpm/dt/venomous.svg" alt="Hex.pm"/></a></p><p>Venomous is a wrapper around erlport python Ports, designed to simplify concurrent use. It focuses on dynamic extensibility, like spawning, reusing and killing processes on demand. Furthermore, unused processes get automatically killed by scheduled process which can be configured inside config.exs. Venomous core functions capture and handle :EXIT calls ensuring that all python process die with it and do not continue their execution.</p><h2 id="installation" class="section-heading">
  <a href="#installation" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Installation</span>
</h2>
<p>Add <code class="inline">:venomous</code> to your list of dependencies in <code class="inline">mix.exs</code>:</p><pre><code class="makeup elixir" translate="no"><span class="kd">def</span><span class="w"> </span><span class="nf">deps</span><span class="w"> </span><span class="k" data-group-id="3093008681-1">do</span><span class="w">
  </span><span class="p" data-group-id="3093008681-2">[</span><span class="w">
    </span><span class="p" data-group-id="3093008681-3">{</span><span class="ss">:venomous</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;~&gt; 0.7.6&quot;</span><span class="p" data-group-id="3093008681-3">}</span><span class="w">
  </span><span class="p" data-group-id="3093008681-2">]</span><span class="w">
</span><span class="k" data-group-id="3093008681-1">end</span></code></pre><h2 id="getting-started" class="section-heading">
  <a href="#getting-started" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Getting Started</span>
</h2>
<p>  Check the <a href="https://hexdocs.pm/venomous">documentation</a> for more in-depth information.</p><p>  For custom type conversion see the <a href="https://github.com/RustySnek/Venomous/blob/master/PYTHON.md">Handling Erlport API</a></p><blockquote><p>By default the python modules to load are kept inside PYTHONPATH envvar.
but I highly recommend setting them inside python_opts[:module_paths] for hot reloading comp.</p></blockquote><p>  You can checkout examples <a href="https://github.com/RustySnek/venomous-examples">here</a></p><h3 id="configure-the-snakemanager-options" class="section-heading">
  <a href="#configure-the-snakemanager-options" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Configure the SnakeManager options</span>
</h3>
<pre><code class="makeup elixir" translate="no"><span class="w">  </span><span class="n">config</span><span class="w"> </span><span class="ss">:venomous</span><span class="p">,</span><span class="w"> </span><span class="ss">:snake_manager</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="7930365402-1">%{</span><span class="w">
    </span><span class="c1"># Optional :erlport encoder/decoder for type conversion between elixir/python applied to all workers. The function may also include any :erlport callbacks from python api</span><span class="w">
    </span><span class="ss">erlport_encoder</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="7930365402-2">%{</span><span class="w">
      </span><span class="ss">module</span><span class="p">:</span><span class="w"> </span><span class="ss">:my_encoder_module</span><span class="p">,</span><span class="w">
      </span><span class="ss">func</span><span class="p">:</span><span class="w"> </span><span class="ss">:encode_my_snakes_please</span><span class="p">,</span><span class="w">
      </span><span class="ss">args</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="7930365402-3">[</span><span class="p" data-group-id="7930365402-3">]</span><span class="w">
    </span><span class="p" data-group-id="7930365402-2">}</span><span class="p">,</span><span class="w">
    </span><span class="c1"># TTL whenever python process is inactive. Default: 15</span><span class="w">
    </span><span class="ss">snake_ttl_minutes</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
    </span><span class="c1"># Number of python workers that don&#39;t get cleared by SnakeManager when their TTL while inactive ends. Default: 10</span><span class="w">
    </span><span class="ss">perpetual_workers</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="c1"># Interval for killing python processes past their ttl while inactive. Default: 60_000ms (1 min)</span><span class="w">
    </span><span class="ss">cleaner_interval</span><span class="p">:</span><span class="w"> </span><span class="mi">5_000</span><span class="p">,</span><span class="w">
    </span><span class="c1"># reload module for hot reloading.</span><span class="w">
    </span><span class="c1"># default is already provided inside venomous python/ directory</span><span class="w">
    </span><span class="ss">reload_module</span><span class="p">:</span><span class="w"> </span><span class="ss">:reload</span><span class="p">,</span><span class="w">

    </span><span class="c1"># Erlport python options</span><span class="w">
    </span><span class="ss">python_opts</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="7930365402-4">[</span><span class="w">
    </span><span class="ss">module_paths</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="7930365402-5">[</span><span class="s">&quot;/path/to/my/modules&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;/path/to/other/modules&quot;</span><span class="p" data-group-id="7930365402-5">]</span><span class="p">,</span><span class="w"> </span><span class="c1"># List of paths to your python modules.</span><span class="w">
    </span><span class="ss">cd</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;/&quot;</span><span class="p">,</span><span class="w"> </span><span class="c1"># Change python&#39;s directory on spawn. Default is $PWD</span><span class="w">
    </span><span class="ss">compressed</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="c1"># Can be set from 0-9. May affect performance. Read more on [Erlport documentation](http://erlport.org/docs/python.html#erlang-api)</span><span class="w">
    </span><span class="ss">envvars</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="7930365402-6">[</span><span class="ss">SNAKE_VAR_ONE</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;I&#39;m a snake&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">SNAKE_VAR_TWO</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;No, you are not&quot;</span><span class="p" data-group-id="7930365402-6">]</span><span class="p">,</span><span class="w"> </span><span class="c1"># additional python process envvars</span><span class="w">
    </span><span class="ss">packet_bytes</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="c1"># Size of erlport python packet. Default: 4 = max 4GB of data. Can also be set to 1 = 256 bytes or 2 = ? bytes if you are sure you won&#39;t be transfering a lot of data.</span><span class="w">
    </span><span class="ss">python_executable</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;/bin/python&quot;</span><span class="w"> </span><span class="c1"># Change the path to python executable to use.</span><span class="w">
    </span><span class="p" data-group-id="7930365402-4">]</span><span class="w">
  </span><span class="p" data-group-id="7930365402-1">}</span></code></pre><h3 id="enable-the-hot-reloading" class="section-heading">
  <a href="#enable-the-hot-reloading" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Enable the Hot reloading</span>
</h3>
<p>  Requires watchdog python module, which can be installed with <code class="inline">mix venomous.watchdog install</code>.
  Currently only supports the SnakeManager's processes. Watches only directories specified in <code class="inline">module_paths</code></p><pre><code class="makeup elixir" translate="no"><span class="w">      </span><span class="n">config</span><span class="w"> </span><span class="ss">:venomous</span><span class="p">,</span><span class="w"> </span><span class="ss">:serpent_watcher</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="1098773255-1">[</span><span class="w">
        </span><span class="ss">enable</span><span class="p">:</span><span class="w"> </span><span class="no">true</span><span class="p">,</span><span class="w"> </span><span class="c1"># Defaults to false</span><span class="w">
        </span><span class="ss">logging</span><span class="p">:</span><span class="w"> </span><span class="no">true</span><span class="p">,</span><span class="w"> </span><span class="c1"># log every hot reload. Default: true</span><span class="w">
        </span><span class="ss">module</span><span class="p">:</span><span class="w"> </span><span class="ss">:serpent_watcher</span><span class="p">,</span><span class="w"> </span><span class="c1"># Provided by default</span><span class="w">
        </span><span class="ss">func</span><span class="p">:</span><span class="w"> </span><span class="ss">:watch_directories</span><span class="p">,</span><span class="w"> </span><span class="c1"># Provided by default</span><span class="w">
        </span><span class="ss">manager_pid</span><span class="p">:</span><span class="w"> </span><span class="nc">Venomous.SnakeManager</span><span class="p">,</span><span class="w"> </span><span class="c1"># Provided by default</span><span class="w">
        </span><span class="p" data-group-id="1098773255-1">]</span></code></pre><h3 id="configure-the-snakesupervisor-and-petsnakesupervisor-if-needed-to-start-on-application-boot" class="section-heading">
  <a href="#configure-the-snakesupervisor-and-petsnakesupervisor-if-needed-to-start-on-application-boot" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Configure the SnakeSupervisor and PetSnakeSupervisor (if needed) to start on application boot.</span>
</h3>
<pre><code class="makeup elixir" translate="no"><span class="w">  </span><span class="kd">defmodule</span><span class="w"> </span><span class="nc">YourApp.Application</span><span class="w"> </span><span class="k" data-group-id="1965997538-1">do</span><span class="w">
    </span><span class="na">@moduledoc</span><span class="w"> </span><span class="no">false</span><span class="w">

    </span><span class="kn">use</span><span class="w"> </span><span class="nc">Application</span><span class="w">

    </span><span class="na">@doc</span><span class="w"> </span><span class="no">false</span><span class="w">
    </span><span class="kd">def</span><span class="w"> </span><span class="nf">start</span><span class="p" data-group-id="1965997538-2">(</span><span class="c">_type</span><span class="p">,</span><span class="w"> </span><span class="c">_args</span><span class="p" data-group-id="1965997538-2">)</span><span class="w"> </span><span class="k" data-group-id="1965997538-3">do</span><span class="w">
      </span><span class="n">children</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p" data-group-id="1965997538-4">[</span><span class="w">
        </span><span class="p" data-group-id="1965997538-5">{</span><span class="nc">Venomous.SnakeSupervisor</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="1965997538-6">[</span><span class="ss">strategy</span><span class="p">:</span><span class="w"> </span><span class="ss">:one_for_one</span><span class="p">,</span><span class="w"> </span><span class="ss">max_restarts</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="ss">max_children</span><span class="p">:</span><span class="w"> </span><span class="mi">50</span><span class="p" data-group-id="1965997538-6">]</span><span class="p" data-group-id="1965997538-5">}</span><span class="p">,</span><span class="w">
        </span><span class="p" data-group-id="1965997538-7">{</span><span class="nc">Venomous.PetSnakeSupervisor</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="1965997538-8">[</span><span class="ss">strategy</span><span class="p">:</span><span class="w"> </span><span class="ss">:one_for_one</span><span class="p">,</span><span class="w"> </span><span class="ss">max_children</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p" data-group-id="1965997538-8">]</span><span class="p" data-group-id="1965997538-7">}</span><span class="w"> </span><span class="c1"># not necessary</span><span class="w">
      </span><span class="p" data-group-id="1965997538-4">]</span><span class="w">
      </span><span class="n">opts</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p" data-group-id="1965997538-9">[</span><span class="ss">strategy</span><span class="p">:</span><span class="w"> </span><span class="ss">:one_for_one</span><span class="p">,</span><span class="w"> </span><span class="ss">name</span><span class="p">:</span><span class="w"> </span><span class="nc">YourApp.Supervisor</span><span class="p" data-group-id="1965997538-9">]</span><span class="w">
      </span><span class="nc">Supervisor</span><span class="o">.</span><span class="n">start_link</span><span class="p" data-group-id="1965997538-10">(</span><span class="n">children</span><span class="p">,</span><span class="w"> </span><span class="n">opts</span><span class="p" data-group-id="1965997538-10">)</span><span class="w">
    </span><span class="k" data-group-id="1965997538-3">end</span><span class="w">
  </span><span class="k" data-group-id="1965997538-1">end</span></code></pre><h2 id="quickstart" class="section-heading">
  <a href="#quickstart" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Quickstart</span>
</h2>
<h3 id="basic-way-to-call-python-process" class="section-heading">
  <a href="#basic-way-to-call-python-process" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Basic way to call python process</span>
</h3>
<pre><code class="makeup elixir" translate="no"><span class="kn">alias</span><span class="w"> </span><span class="nc">Venomous.SnakeArgs</span><span class="w">
</span><span class="kn">import</span><span class="w"> </span><span class="nc">Venomous</span><span class="w">

</span><span class="n">timeout</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1_000</span><span class="w">
</span><span class="n">args</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">SnakeArgs</span><span class="o">.</span><span class="n">from_params</span><span class="p" data-group-id="7818139799-1">(</span><span class="ss">:builtins</span><span class="p">,</span><span class="w"> </span><span class="ss">:sum</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="7818139799-2">[</span><span class="p" data-group-id="7818139799-3">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p" data-group-id="7818139799-3">]</span><span class="p" data-group-id="7818139799-2">]</span><span class="p" data-group-id="7818139799-1">)</span><span class="w">

</span><span class="k">case</span><span class="w"> </span><span class="n">python</span><span class="p" data-group-id="7818139799-4">(</span><span class="n">args</span><span class="p">,</span><span class="w"> </span><span class="ss">python_timeout</span><span class="p">:</span><span class="w"> </span><span class="n">timeout</span><span class="p" data-group-id="7818139799-4">)</span><span class="w"> </span><span class="k" data-group-id="7818139799-5">do</span><span class="w">
    </span><span class="p" data-group-id="7818139799-6">{</span><span class="ss">:retrieve_error</span><span class="p">,</span><span class="w"> </span><span class="n">msg</span><span class="p" data-group-id="7818139799-6">}</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="s">&quot;No Snakes? </span><span class="si" data-group-id="7818139799-7">#{</span><span class="n">inspect</span><span class="p" data-group-id="7818139799-8">(</span><span class="n">msg</span><span class="p" data-group-id="7818139799-8">)</span><span class="si" data-group-id="7818139799-7">}</span><span class="s">&quot;</span><span class="w">
    </span><span class="p" data-group-id="7818139799-9">%{</span><span class="ss">error</span><span class="p">:</span><span class="w"> </span><span class="ss">:timeout</span><span class="p" data-group-id="7818139799-9">}</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="s">&quot;We timed out...&quot;</span><span class="w">
    </span><span class="n">sum</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">assert</span><span class="w"> </span><span class="n">sum</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">15</span><span class="w">
</span><span class="k" data-group-id="7818139799-5">end</span><span class="w">

</span><span class="c1"># or just use python!/3 which waits for the available snake.</span><span class="w">
</span><span class="n">timeout</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ss">:infinity</span><span class="w">
</span><span class="n">assert</span><span class="w"> </span><span class="n">python!</span><span class="p" data-group-id="7818139799-10">(</span><span class="n">args</span><span class="p">,</span><span class="w"> </span><span class="ss">python_timeout</span><span class="p">:</span><span class="w"> </span><span class="n">timeout</span><span class="p" data-group-id="7818139799-10">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">15</span></code></pre><h3 id="concurrency-and-exit-signals" class="section-heading">
  <a href="#concurrency-and-exit-signals" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Concurrency and :EXIT signals</span>
</h3>
<p>Venomous is designed with concurrency, as well as proper exits in mind.</p><pre><code class="makeup elixir" translate="no"><span class="kn">alias</span><span class="w"> </span><span class="nc">Venomous.SnakeArgs</span><span class="w">
</span><span class="kn">import</span><span class="w"> </span><span class="nc">Venomous</span><span class="w">

</span><span class="c1"># Venomous can handle as much concurrent python as you&#39;ve setup</span><span class="w">
</span><span class="c1"># in your snake_manager configuration. However the python! will</span><span class="w">
</span><span class="c1"># wait for any process to free up in case none are available.</span><span class="w">
</span><span class="n">args</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">SnakeArgs</span><span class="o">.</span><span class="n">from_params</span><span class="p" data-group-id="9074279934-1">(</span><span class="ss">:time</span><span class="p">,</span><span class="w"> </span><span class="ss">:sleep</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="9074279934-2">[</span><span class="mf">0.5</span><span class="p" data-group-id="9074279934-2">]</span><span class="p" data-group-id="9074279934-1">)</span><span class="w">
</span><span class="nc">Enum</span><span class="o">.</span><span class="n">map</span><span class="p" data-group-id="9074279934-3">(</span><span class="mi">1</span><span class="o">..</span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="k" data-group-id="9074279934-4">fn</span><span class="w"> </span><span class="bp">_</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> 
    </span><span class="nc">Task</span><span class="o">.</span><span class="n">async</span><span class="p" data-group-id="9074279934-5">(</span><span class="k" data-group-id="9074279934-6">fn</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
        </span><span class="n">python!</span><span class="p" data-group-id="9074279934-7">(</span><span class="n">args</span><span class="p" data-group-id="9074279934-7">)</span><span class="w">
    </span><span class="k" data-group-id="9074279934-6">end</span><span class="p" data-group-id="9074279934-5">)</span><span class="w">
</span><span class="k" data-group-id="9074279934-4">end</span><span class="p" data-group-id="9074279934-3">)</span><span class="w"> </span><span class="o">|&gt;</span><span class="w"> </span><span class="nc">Task</span><span class="o">.</span><span class="n">await_many</span><span class="p" data-group-id="9074279934-8">(</span><span class="mi">5_000</span><span class="p" data-group-id="9074279934-8">)</span><span class="w">

</span><span class="c1"># You can view the spawned and ready snakes using the list_alive_snakes() </span><span class="w">
</span><span class="n">list_alive_snakes</span><span class="p" data-group-id="9074279934-9">(</span><span class="p" data-group-id="9074279934-9">)</span><span class="w"> </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">dbg</span></code></pre><pre><code class="makeup elixir" translate="no"><span class="kn">alias</span><span class="w"> </span><span class="nc">Venomous.SnakeArgs</span><span class="w">
</span><span class="kn">import</span><span class="w"> </span><span class="nc">Venomous</span><span class="w">

</span><span class="c1"># Venomous kills the OS pid of the python process on :EXIT</span><span class="w">
</span><span class="c1"># ensuring the process will not proceed with the execution further</span><span class="w">
</span><span class="nc">Enum</span><span class="o">.</span><span class="n">map</span><span class="p" data-group-id="4572129035-1">(</span><span class="mi">1</span><span class="o">..</span><span class="mi">200</span><span class="p">,</span><span class="w"> </span><span class="k" data-group-id="4572129035-2">fn</span><span class="w"> </span><span class="bp">_</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
  </span><span class="p" data-group-id="4572129035-3">{</span><span class="ss">:ok</span><span class="p">,</span><span class="w"> </span><span class="n">pid</span><span class="p" data-group-id="4572129035-3">}</span><span class="w"> </span><span class="o">=</span><span class="w">
    </span><span class="nc">Task</span><span class="o">.</span><span class="n">start</span><span class="p" data-group-id="4572129035-4">(</span><span class="k" data-group-id="4572129035-5">fn</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
      </span><span class="nc">SnakeArgs</span><span class="o">.</span><span class="n">from_params</span><span class="p" data-group-id="4572129035-6">(</span><span class="ss">:time</span><span class="p">,</span><span class="w"> </span><span class="ss">:sleep</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="4572129035-7">[</span><span class="mi">1000</span><span class="p" data-group-id="4572129035-7">]</span><span class="p" data-group-id="4572129035-6">)</span><span class="w"> </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">python!</span><span class="p" data-group-id="4572129035-8">(</span><span class="p" data-group-id="4572129035-8">)</span><span class="w">
    </span><span class="k" data-group-id="4572129035-5">end</span><span class="p" data-group-id="4572129035-4">)</span><span class="w">

  </span><span class="n">pid</span><span class="w">
</span><span class="k" data-group-id="4572129035-2">end</span><span class="p" data-group-id="4572129035-1">)</span><span class="w">
</span><span class="o">|&gt;</span><span class="w"> </span><span class="nc">Enum</span><span class="o">.</span><span class="n">each</span><span class="p" data-group-id="4572129035-9">(</span><span class="k" data-group-id="4572129035-10">fn</span><span class="w"> </span><span class="n">pid</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
  </span><span class="nc">Process</span><span class="o">.</span><span class="n">send_after</span><span class="p" data-group-id="4572129035-11">(</span><span class="n">pid</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="4572129035-12">{</span><span class="ss">:EXIT</span><span class="p">,</span><span class="w"> </span><span class="ss">:snake_slithered_away</span><span class="p" data-group-id="4572129035-12">}</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p" data-group-id="4572129035-11">)</span><span class="w">
</span><span class="k" data-group-id="4572129035-10">end</span><span class="p" data-group-id="4572129035-9">)</span><span class="w">

</span><span class="c1"># We&#39;ll sleep to make sure all exits got sent.</span><span class="w">
</span><span class="nc">Process</span><span class="o">.</span><span class="n">sleep</span><span class="p" data-group-id="4572129035-13">(</span><span class="mi">1_000</span><span class="p" data-group-id="4572129035-13">)</span><span class="w">
</span><span class="n">assert</span><span class="w"> </span><span class="n">list_alive_snakes</span><span class="p" data-group-id="4572129035-14">(</span><span class="p" data-group-id="4572129035-14">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="p" data-group-id="4572129035-15">[</span><span class="p" data-group-id="4572129035-15">]</span></code></pre><h2 id="struct-class-comp" class="section-heading">
  <a href="#struct-class-comp" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Struct/Class comp</span>
</h2>
<p>Venomous provides an easy way to convert structs into classes and back with VenomousTrait class and <code class="inline">mix venomous.structs ...</code> task.</p><pre><code class="makeup shell" translate="no"><span class="gp unselectable">$ </span><span class="">mix venomous.structs
</span><span class="">Simple utility to create python elixir compatible classes.
</span><span class="">
</span><span class="">        VenomousTrait class provides 2 functions: 
</span><span class="">          - def from_dict(cls, erl_map: Map | Dict, structs: Dict = {}) -&gt; cls
</span><span class="">            # converts Erlport Map or a Dict into the object class
</span><span class="">          - def into_erl(self, encoding_function \\ encode_basic_type_strings, *args \\ passed into the encoding function) -&gt; Map
</span><span class="">            # returns erlang compatible struct from self
</span><span class="">
</span><span class="">           
</span><span class="">        To create basic python classes and encode/decode functions based on structs: 
</span><span class="">            - mix venomous.structs MyModule.MyStruct MyModule.MoreStructs ...
</span><span class="">
</span><span class="">        To create extended classes depending on existing python class: 
</span><span class="">            - mix venomous.structs MyModule.MyStruct:PythonClassName ...
</span><span class="">
</span><span class="">        To create for all available structs inside an application
</span><span class="">            - mix venomous.structs all my_application
</span></code></pre><p>You can see this used in the <a href="https://github.com/RustySnek/Venomous/blob/master/test/struct_test.exs">struct_test.exs</a> and <a href="https://github.com/RustySnek/Venomous/blob/master/python/test_venomous.py">test_venomous.py</a></p><h2 id="dev-test-repl" class="section-heading">
  <a href="#dev-test-repl" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Dev/Test REPL</span>
</h2>
<p>Venomous provides dev/test only REPL</p><pre><code class="makeup elixir" translate="no"><span class="err">$</span><span class="w"> </span><span class="n">iex</span><span class="w"> </span><span class="o">-</span><span class="nc">S</span><span class="w"> </span><span class="n">mix</span><span class="w"> </span><span class="n">test</span><span class="w">
</span><span class="nc">Erlang</span><span class="o">/</span><span class="nc">OTP</span><span class="w"> </span><span class="mi">25</span><span class="w"> </span><span class="p" data-group-id="5542634494-1">[</span><span class="n">erts</span><span class="o">-</span><span class="mf">13.2</span><span class="o">.</span><span class="mf">2.7</span><span class="p" data-group-id="5542634494-1">]</span><span class="w"> </span><span class="p" data-group-id="5542634494-2">[</span><span class="n">source</span><span class="p" data-group-id="5542634494-2">]</span><span class="w"> </span><span class="p" data-group-id="5542634494-3">[</span><span class="mi">64</span><span class="o">-</span><span class="n">bit</span><span class="p" data-group-id="5542634494-3">]</span><span class="w"> </span><span class="p" data-group-id="5542634494-4">[</span><span class="n">smp</span><span class="p">:</span><span class="mi">16</span><span class="p">:</span><span class="mi">2</span><span class="p" data-group-id="5542634494-4">]</span><span class="w"> </span><span class="p" data-group-id="5542634494-5">[</span><span class="n">ds</span><span class="p">:</span><span class="mi">16</span><span class="p">:</span><span class="mi">2</span><span class="p">:</span><span class="mi">10</span><span class="p" data-group-id="5542634494-5">]</span><span class="w"> </span><span class="p" data-group-id="5542634494-6">[</span><span class="n">async</span><span class="o">-</span><span class="n">threads</span><span class="p">:</span><span class="mi">1</span><span class="p" data-group-id="5542634494-6">]</span><span class="w"> </span><span class="p" data-group-id="5542634494-7">[</span><span class="n">jit</span><span class="ss">:ns</span><span class="p" data-group-id="5542634494-7">]</span><span class="w">

</span><span class="nc">Compiling</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="p" data-group-id="5542634494-8">(</span><span class="o">.</span><span class="n">ex</span><span class="p" data-group-id="5542634494-8">)</span><span class="w">

</span><span class="mi">15</span><span class="p">:</span><span class="mi">45</span><span class="p">:</span><span class="mf">10.953</span><span class="w"> </span><span class="p" data-group-id="5542634494-9">[</span><span class="n">info</span><span class="p" data-group-id="5542634494-9">]</span><span class="w"> </span><span class="nc">Started</span><span class="w"> </span><span class="nc">Snake</span><span class="w"> </span><span class="nc">Manager</span><span class="w">
 
</span><span class="mi">15</span><span class="p">:</span><span class="mi">45</span><span class="p">:</span><span class="mf">10.954</span><span class="w"> </span><span class="p" data-group-id="5542634494-10">[</span><span class="n">info</span><span class="p" data-group-id="5542634494-10">]</span><span class="w"> </span><span class="nc">Started</span><span class="w"> </span><span class="nc">Pet</span><span class="w"> </span><span class="nc">Snake</span><span class="w"> </span><span class="nc">Manager</span><span class="w">
</span><span class="n">...</span><span class="n">...</span><span class="n">...</span><span class="n">...</span><span class="w">
</span><span class="nc">Finished</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="mf">12.9</span><span class="w"> </span><span class="n">seconds</span><span class="w"> </span><span class="p" data-group-id="5542634494-11">(</span><span class="mf">0.00</span><span class="n">s</span><span class="w"> </span><span class="n">async</span><span class="p">,</span><span class="w"> </span><span class="mf">12.9</span><span class="n">s</span><span class="w"> </span><span class="n">sync</span><span class="p" data-group-id="5542634494-11">)</span><span class="w">
</span><span class="mi">12</span><span class="w"> </span><span class="n">tests</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="n">failures</span><span class="w">

</span><span class="nc">Randomized</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">seed</span><span class="w"> </span><span class="mi">961929</span><span class="w">
</span><span class="nc">Interactive</span><span class="w"> </span><span class="nc">Elixir</span><span class="w"> </span><span class="p" data-group-id="5542634494-12">(</span><span class="mf">1.16</span><span class="o">.</span><span class="mi">2</span><span class="p" data-group-id="5542634494-12">)</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">press</span><span class="w"> </span><span class="nc">Ctrl</span><span class="o">+</span><span class="nc">C</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">exit</span><span class="w"> </span><span class="p" data-group-id="5542634494-13">(</span><span class="n">type</span><span class="w"> </span><span class="n">h</span><span class="p" data-group-id="5542634494-14">(</span><span class="p" data-group-id="5542634494-14">)</span><span class="w"> </span><span class="nc">ENTER</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">help</span><span class="p" data-group-id="5542634494-13">)</span><span class="w">
</span><span class="gp unselectable">iex(1)&gt; </span><span class="n">test_struct</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p" data-group-id="5542634494-15">%</span><span class="nc" data-group-id="5542634494-15">VenomousTest.TestStruct</span><span class="p" data-group-id="5542634494-15">{</span><span class="ss">test</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;123&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">snake</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="5542634494-16">[</span><span class="s">&quot;s&quot;</span><span class="p">,</span><span class="s">&quot;s&quot;</span><span class="p">,</span><span class="s">&quot;s&quot;</span><span class="p" data-group-id="5542634494-16">]</span><span class="p" data-group-id="5542634494-15">}</span><span class="w">
</span><span class="p" data-group-id="5542634494-17">%</span><span class="nc" data-group-id="5542634494-17">VenomousTest.TestStruct</span><span class="p" data-group-id="5542634494-17">{</span><span class="ss">test</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;123&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">snake</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="5542634494-18">[</span><span class="s">&quot;s&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;s&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;s&quot;</span><span class="p" data-group-id="5542634494-18">]</span><span class="p" data-group-id="5542634494-17">}</span><span class="w">
</span><span class="gp unselectable">iex(2)&gt; </span><span class="nc">VenomousREPL</span><span class="o">.</span><span class="n">repl</span><span class="p" data-group-id="5542634494-19">(</span><span class="ss">inputs</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="5542634494-20">[</span><span class="ss">test_struct</span><span class="p">:</span><span class="w"> </span><span class="n">test_struct</span><span class="p" data-group-id="5542634494-20">]</span><span class="p" data-group-id="5542634494-19">)</span><span class="w">
</span><span class="nc">Python</span><span class="w"> </span><span class="nc">REPL</span><span class="w"> </span><span class="p" data-group-id="5542634494-21">(</span><span class="n">module</span><span class="o">/</span><span class="n">outputs</span><span class="o">/</span><span class="n">pop</span><span class="o">/</span><span class="n">r</span><span class="w"> </span><span class="p" data-group-id="5542634494-22">(</span><span class="n">repeat</span><span class="p" data-group-id="5542634494-22">)</span><span class="o">/</span><span class="n">exit</span><span class="p" data-group-id="5542634494-21">)</span><span class="p">:</span><span class="w"> </span><span class="n">test_venomous</span><span class="w">
</span><span class="nc">Python</span><span class="w"> </span><span class="nc">REPL</span><span class="w"> </span><span class="p" data-group-id="5542634494-23">(</span><span class="n">function</span><span class="p" data-group-id="5542634494-23">)</span><span class="p">:</span><span class="w"> 
</span><span class="nc">Available</span><span class="w"> </span><span class="ss">functions</span><span class="p">:</span><span class="w">

</span><span class="nc">Test</span><span class="p" data-group-id="5542634494-24">(</span><span class="p" data-group-id="5542634494-24">)</span><span class="w">
        </span><span class="ss">name</span><span class="p">:</span><span class="w"> </span><span class="n">self</span><span class="w">
        </span><span class="ss">kind</span><span class="p">:</span><span class="w"> </span><span class="nc">POSITIONAL_OR_KEYWORD</span><span class="w">
        </span><span class="ss">default</span><span class="p">:</span><span class="w"> </span><span class="n">undefined</span><span class="w">
        </span><span class="ss">annotation</span><span class="p">:</span><span class="w"> </span><span class="n">undefined</span><span class="w">

        </span><span class="ss">name</span><span class="p">:</span><span class="w"> </span><span class="n">test</span><span class="w">
        </span><span class="ss">kind</span><span class="p">:</span><span class="w"> </span><span class="nc">POSITIONAL_OR_KEYWORD</span><span class="w">
        </span><span class="ss">default</span><span class="p">:</span><span class="w"> </span><span class="n">undefined</span><span class="w">
        </span><span class="ss">annotation</span><span class="p">:</span><span class="w"> </span><span class="o">&lt;</span><span class="n">class</span><span class="w"> </span><span class="sc">&#39;str&#39;</span><span class="o">&gt;</span><span class="w">

        </span><span class="ss">name</span><span class="p">:</span><span class="w"> </span><span class="n">snake</span><span class="w">
        </span><span class="ss">kind</span><span class="p">:</span><span class="w"> </span><span class="nc">POSITIONAL_OR_KEYWORD</span><span class="w">
        </span><span class="ss">default</span><span class="p">:</span><span class="w"> </span><span class="n">undefined</span><span class="w">
        </span><span class="ss">annotation</span><span class="p">:</span><span class="w"> </span><span class="o">&lt;</span><span class="n">class</span><span class="w"> </span><span class="sc">&#39;list&#39;</span><span class="o">&gt;</span><span class="w">
</span><span class="nc">TestStruct</span><span class="p" data-group-id="5542634494-25">(</span><span class="p" data-group-id="5542634494-25">)</span><span class="w">
        </span><span class="ss">name</span><span class="p">:</span><span class="w"> </span><span class="n">self</span><span class="w">
        </span><span class="ss">kind</span><span class="p">:</span><span class="w"> </span><span class="nc">POSITIONAL_OR_KEYWORD</span><span class="w">
        </span><span class="ss">default</span><span class="p">:</span><span class="w"> </span><span class="n">undefined</span><span class="w">
        </span><span class="ss">annotation</span><span class="p">:</span><span class="w"> </span><span class="n">undefined</span><span class="w">

        </span><span class="ss">name</span><span class="p">:</span><span class="w"> </span><span class="n">test</span><span class="w">
        </span><span class="ss">kind</span><span class="p">:</span><span class="w"> </span><span class="nc">POSITIONAL_OR_KEYWORD</span><span class="w">
        </span><span class="ss">default</span><span class="p">:</span><span class="w"> </span><span class="n">undefined</span><span class="w">
        </span><span class="ss">annotation</span><span class="p">:</span><span class="w"> </span><span class="o">&lt;</span><span class="n">class</span><span class="w"> </span><span class="sc">&#39;str&#39;</span><span class="o">&gt;</span><span class="w">

        </span><span class="ss">name</span><span class="p">:</span><span class="w"> </span><span class="n">snake</span><span class="w">
        </span><span class="ss">kind</span><span class="p">:</span><span class="w"> </span><span class="nc">POSITIONAL_OR_KEYWORD</span><span class="w">
        </span><span class="ss">default</span><span class="p">:</span><span class="w"> </span><span class="n">undefined</span><span class="w">
        </span><span class="ss">annotation</span><span class="p">:</span><span class="w"> </span><span class="o">&lt;</span><span class="n">class</span><span class="w"> </span><span class="sc">&#39;list&#39;</span><span class="o">&gt;</span><span class="w">

        </span><span class="ss">name</span><span class="p">:</span><span class="w"> </span><span class="c">__struct__</span><span class="w">
        </span><span class="ss">kind</span><span class="p">:</span><span class="w"> </span><span class="nc">POSITIONAL_OR_KEYWORD</span><span class="w">
        </span><span class="ss">default</span><span class="p">:</span><span class="w"> </span><span class="n">b</span><span class="sc">&#39;Elixir.VenomousTest.TestStruct&#39;</span><span class="w">
        </span><span class="ss">annotation</span><span class="p">:</span><span class="w"> </span><span class="o">&lt;</span><span class="n">class</span><span class="w"> </span><span class="sc">&#39;erlport.erlterms.Atom&#39;</span><span class="o">&gt;</span><span class="w">
</span><span class="nc">Venom</span><span class="p" data-group-id="5542634494-26">(</span><span class="p" data-group-id="5542634494-26">)</span><span class="w">
        </span><span class="ss">name</span><span class="p">:</span><span class="w"> </span><span class="n">self</span><span class="w">
        </span><span class="ss">kind</span><span class="p">:</span><span class="w"> </span><span class="nc">POSITIONAL_OR_KEYWORD</span><span class="w">
        </span><span class="ss">default</span><span class="p">:</span><span class="w"> </span><span class="n">undefined</span><span class="w">
        </span><span class="ss">annotation</span><span class="p">:</span><span class="w"> </span><span class="n">undefined</span><span class="w">

        </span><span class="ss">name</span><span class="p">:</span><span class="w"> </span><span class="n">test_struct</span><span class="w">
        </span><span class="ss">kind</span><span class="p">:</span><span class="w"> </span><span class="nc">POSITIONAL_OR_KEYWORD</span><span class="w">
        </span><span class="ss">default</span><span class="p">:</span><span class="w"> </span><span class="n">undefined</span><span class="w">
        </span><span class="ss">annotation</span><span class="p">:</span><span class="w"> </span><span class="o">&lt;</span><span class="n">class</span><span class="w"> </span><span class="sc">&#39;test_venomous.Test&#39;</span><span class="o">&gt;</span><span class="w">
</span><span class="nc">VenomStruct</span><span class="p" data-group-id="5542634494-27">(</span><span class="p" data-group-id="5542634494-27">)</span><span class="w">
        </span><span class="ss">name</span><span class="p">:</span><span class="w"> </span><span class="n">self</span><span class="w">
        </span><span class="ss">kind</span><span class="p">:</span><span class="w"> </span><span class="nc">POSITIONAL_OR_KEYWORD</span><span class="w">
        </span><span class="ss">default</span><span class="p">:</span><span class="w"> </span><span class="n">undefined</span><span class="w">
        </span><span class="ss">annotation</span><span class="p">:</span><span class="w"> </span><span class="n">undefined</span><span class="w">

        </span><span class="ss">name</span><span class="p">:</span><span class="w"> </span><span class="n">test_struct</span><span class="w">
        </span><span class="ss">kind</span><span class="p">:</span><span class="w"> </span><span class="nc">POSITIONAL_OR_KEYWORD</span><span class="w">
        </span><span class="ss">default</span><span class="p">:</span><span class="w"> </span><span class="n">undefined</span><span class="w">
        </span><span class="ss">annotation</span><span class="p">:</span><span class="w"> </span><span class="o">&lt;</span><span class="n">class</span><span class="w"> </span><span class="sc">&#39;test_venomous.Test&#39;</span><span class="o">&gt;</span><span class="w">

        </span><span class="ss">name</span><span class="p">:</span><span class="w"> </span><span class="c">__struct__</span><span class="w">
        </span><span class="ss">kind</span><span class="p">:</span><span class="w"> </span><span class="nc">POSITIONAL_OR_KEYWORD</span><span class="w">
        </span><span class="ss">default</span><span class="p">:</span><span class="w"> </span><span class="n">b</span><span class="sc">&#39;Elixir.VenomousTest.Venom&#39;</span><span class="w">
        </span><span class="ss">annotation</span><span class="p">:</span><span class="w"> </span><span class="o">&lt;</span><span class="n">class</span><span class="w"> </span><span class="sc">&#39;erlport.erlterms.Atom&#39;</span><span class="o">&gt;</span><span class="w">
</span><span class="n">decoder</span><span class="p" data-group-id="5542634494-28">(</span><span class="p" data-group-id="5542634494-28">)</span><span class="w">
        </span><span class="ss">name</span><span class="p">:</span><span class="w"> </span><span class="n">value</span><span class="w">
        </span><span class="ss">kind</span><span class="p">:</span><span class="w"> </span><span class="nc">POSITIONAL_OR_KEYWORD</span><span class="w">
        </span><span class="ss">default</span><span class="p">:</span><span class="w"> </span><span class="n">undefined</span><span class="w">
        </span><span class="ss">annotation</span><span class="p">:</span><span class="w"> </span><span class="n">typing</span><span class="o">.</span><span class="nc">Any</span><span class="w">
</span><span class="n">encoder</span><span class="p" data-group-id="5542634494-29">(</span><span class="p" data-group-id="5542634494-29">)</span><span class="w">
        </span><span class="ss">name</span><span class="p">:</span><span class="w"> </span><span class="n">value</span><span class="w">
        </span><span class="ss">kind</span><span class="p">:</span><span class="w"> </span><span class="nc">POSITIONAL_OR_KEYWORD</span><span class="w">
        </span><span class="ss">default</span><span class="p">:</span><span class="w"> </span><span class="n">undefined</span><span class="w">
        </span><span class="ss">annotation</span><span class="p">:</span><span class="w"> </span><span class="n">typing</span><span class="o">.</span><span class="nc">Any</span><span class="w">
</span><span class="n">erl_encode</span><span class="p" data-group-id="5542634494-30">(</span><span class="p" data-group-id="5542634494-30">)</span><span class="w">
        
</span><span class="n">test_venomous_trait</span><span class="p" data-group-id="5542634494-31">(</span><span class="p" data-group-id="5542634494-31">)</span><span class="w">
        </span><span class="ss">name</span><span class="p">:</span><span class="w"> </span><span class="n">test</span><span class="w">
        </span><span class="ss">kind</span><span class="p">:</span><span class="w"> </span><span class="nc">POSITIONAL_OR_KEYWORD</span><span class="w">
        </span><span class="ss">default</span><span class="p">:</span><span class="w"> </span><span class="n">undefined</span><span class="w">
        </span><span class="ss">annotation</span><span class="p">:</span><span class="w"> </span><span class="n">undefined</span><span class="w">
</span><span class="nc">Python</span><span class="w"> </span><span class="nc">REPL</span><span class="w"> </span><span class="p" data-group-id="5542634494-32">(</span><span class="n">function</span><span class="p" data-group-id="5542634494-32">)</span><span class="p">:</span><span class="w"> </span><span class="n">test_venomous_trait</span><span class="w">
</span><span class="nc">Python</span><span class="w"> </span><span class="nc">REPL</span><span class="w"> </span><span class="p" data-group-id="5542634494-33">(</span><span class="n">arg</span><span class="w"> </span><span class="mi">1</span><span class="p" data-group-id="5542634494-33">)</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="5542634494-34">[</span><span class="p" data-group-id="5542634494-35">{</span><span class="p" data-group-id="5542634494-36">%{</span><span class="s">&quot;x&quot;</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="n">test_struct</span><span class="p" data-group-id="5542634494-36">}</span><span class="p" data-group-id="5542634494-35">}</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;abc&quot;</span><span class="p" data-group-id="5542634494-34">]</span><span class="w">
</span><span class="nc">Python</span><span class="w"> </span><span class="nc">REPL</span><span class="w"> </span><span class="p" data-group-id="5542634494-37">(</span><span class="n">arg</span><span class="w"> </span><span class="mi">2</span><span class="p" data-group-id="5542634494-37">)</span><span class="p">:</span><span class="w"> 
</span><span class="p" data-group-id="5542634494-38">[</span><span class="n">lib</span><span class="o">/</span><span class="n">repl</span><span class="o">.</span><span class="n">ex</span><span class="p">:</span><span class="mi">121</span><span class="p">:</span><span class="w"> </span><span class="nc">VenomousREPL</span><span class="o">.</span><span class="n">repl</span><span class="o">/</span><span class="mi">1</span><span class="p" data-group-id="5542634494-38">]</span><span class="w">
</span><span class="nc">Venomous</span><span class="o">.</span><span class="n">python!</span><span class="p" data-group-id="5542634494-39">(</span><span class="n">params</span><span class="p" data-group-id="5542634494-39">)</span><span class="w"> </span><span class="c1">#=&gt; [</span><span class="w">
  </span><span class="p" data-group-id="5542634494-40">%</span><span class="nc" data-group-id="5542634494-40">VenomousTest.Venom</span><span class="p" data-group-id="5542634494-40">{</span><span class="w">
    </span><span class="ss">test_struct</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="5542634494-41">%{</span><span class="w">
      </span><span class="s">&quot;__struct__&quot;</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nc">VenomousTest.TestStruct</span><span class="p">,</span><span class="w">
      </span><span class="s">&quot;snake&quot;</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p" data-group-id="5542634494-42">[</span><span class="s">&quot;s&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;s&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;s&quot;</span><span class="p" data-group-id="5542634494-42">]</span><span class="p">,</span><span class="w">
      </span><span class="s">&quot;test&quot;</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="s">&quot;123&quot;</span><span class="w">
    </span><span class="p" data-group-id="5542634494-41">}</span><span class="w">
  </span><span class="p" data-group-id="5542634494-40">}</span><span class="p">,</span><span class="w">
  </span><span class="s">&quot;abc&quot;</span><span class="w">
</span><span class="p">]</span><span class="w">

</span><span class="nc">Python</span><span class="w"> </span><span class="nc">REPL</span><span class="w"> </span><span class="p" data-group-id="5542634494-43">(</span><span class="n">module</span><span class="o">/</span><span class="n">outputs</span><span class="o">/</span><span class="n">pop</span><span class="o">/</span><span class="n">r</span><span class="w"> </span><span class="p" data-group-id="5542634494-44">(</span><span class="n">repeat</span><span class="p" data-group-id="5542634494-44">)</span><span class="o">/</span><span class="n">exit</span><span class="p" data-group-id="5542634494-43">)</span><span class="p">:</span><span class="w"> </span><span class="n">r</span><span class="w">
</span><span class="p" data-group-id="5542634494-45">[</span><span class="n">lib</span><span class="o">/</span><span class="n">repl</span><span class="o">.</span><span class="n">ex</span><span class="p">:</span><span class="mi">109</span><span class="p">:</span><span class="w"> </span><span class="nc">VenomousREPL</span><span class="o">.</span><span class="n">repl</span><span class="o">/</span><span class="mi">1</span><span class="p" data-group-id="5542634494-45">]</span><span class="w">
</span><span class="nc">Venomous</span><span class="o">.</span><span class="n">python!</span><span class="p" data-group-id="5542634494-46">(</span><span class="n">previous_args</span><span class="p" data-group-id="5542634494-46">)</span><span class="w"> </span><span class="c1">#=&gt; [</span><span class="w">
  </span><span class="p" data-group-id="5542634494-47">%</span><span class="nc" data-group-id="5542634494-47">VenomousTest.Venom</span><span class="p" data-group-id="5542634494-47">{</span><span class="w">
    </span><span class="ss">test_struct</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="5542634494-48">%{</span><span class="w">
      </span><span class="s">&quot;__struct__&quot;</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nc">VenomousTest.TestStruct</span><span class="p">,</span><span class="w">
      </span><span class="s">&quot;snake&quot;</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p" data-group-id="5542634494-49">[</span><span class="s">&quot;s&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;s&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;s&quot;</span><span class="p" data-group-id="5542634494-49">]</span><span class="p">,</span><span class="w">
      </span><span class="s">&quot;test&quot;</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="s">&quot;123&quot;</span><span class="w">
    </span><span class="p" data-group-id="5542634494-48">}</span><span class="w">
  </span><span class="p" data-group-id="5542634494-47">}</span><span class="p">,</span><span class="w">
  </span><span class="s">&quot;abc&quot;</span><span class="w">
</span><span class="p">]</span><span class="w">

</span><span class="nc">Python</span><span class="w"> </span><span class="nc">REPL</span><span class="w"> </span><span class="p" data-group-id="5542634494-50">(</span><span class="n">module</span><span class="o">/</span><span class="n">outputs</span><span class="o">/</span><span class="n">pop</span><span class="o">/</span><span class="n">r</span><span class="w"> </span><span class="p" data-group-id="5542634494-51">(</span><span class="n">repeat</span><span class="p" data-group-id="5542634494-51">)</span><span class="o">/</span><span class="n">exit</span><span class="p" data-group-id="5542634494-50">)</span><span class="p">:</span><span class="w"> </span><span class="n">outputs</span><span class="w">
</span><span class="p" data-group-id="5542634494-52">[</span><span class="n">lib</span><span class="o">/</span><span class="n">repl</span><span class="o">.</span><span class="n">ex</span><span class="p">:</span><span class="mi">96</span><span class="p">:</span><span class="w"> </span><span class="nc">VenomousREPL</span><span class="o">.</span><span class="n">repl</span><span class="o">/</span><span class="mi">1</span><span class="p" data-group-id="5542634494-52">]</span><span class="w">
</span><span class="n">outputs</span><span class="w"> </span><span class="c1">#=&gt; [</span><span class="w">
  </span><span class="p" data-group-id="5542634494-53">[</span><span class="w">
    </span><span class="p" data-group-id="5542634494-54">%</span><span class="nc" data-group-id="5542634494-54">VenomousTest.Venom</span><span class="p" data-group-id="5542634494-54">{</span><span class="w">
      </span><span class="ss">test_struct</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="5542634494-55">%{</span><span class="w">
        </span><span class="s">&quot;__struct__&quot;</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nc">VenomousTest.TestStruct</span><span class="p">,</span><span class="w">
        </span><span class="s">&quot;snake&quot;</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p" data-group-id="5542634494-56">[</span><span class="s">&quot;s&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;s&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;s&quot;</span><span class="p" data-group-id="5542634494-56">]</span><span class="p">,</span><span class="w">
        </span><span class="s">&quot;test&quot;</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="s">&quot;123&quot;</span><span class="w">
      </span><span class="p" data-group-id="5542634494-55">}</span><span class="w">
    </span><span class="p" data-group-id="5542634494-54">}</span><span class="p">,</span><span class="w">
    </span><span class="s">&quot;abc&quot;</span><span class="w">
  </span><span class="p" data-group-id="5542634494-53">]</span><span class="w">
</span><span class="p">]</span><span class="w">

</span><span class="nc">Python</span><span class="w"> </span><span class="nc">REPL</span><span class="w"> </span><span class="p" data-group-id="5542634494-57">(</span><span class="n">module</span><span class="o">/</span><span class="n">outputs</span><span class="o">/</span><span class="n">pop</span><span class="o">/</span><span class="n">r</span><span class="w"> </span><span class="p" data-group-id="5542634494-58">(</span><span class="n">repeat</span><span class="p" data-group-id="5542634494-58">)</span><span class="o">/</span><span class="n">exit</span><span class="p" data-group-id="5542634494-57">)</span><span class="p">:</span></code></pre>
</div>

<div class="bottom-actions" id="bottom-actions">
  <div class="bottom-actions-item">

      <a href="api-reference.html" class="bottom-actions-button" rel="prev">
        <span class="subheader">
          â† Previous Page
        </span>
        <span class="title">
API Reference
        </span>
      </a>

  </div>
  <div class="bottom-actions-item">

      <a href="python.html" class="bottom-actions-button" rel="next">
        <span class="subheader">
          Next Page â†’
        </span>
        <span class="title">
Quick guide on erlport Python API
        </span>
      </a>

  </div>
</div>
    <footer class="footer">
      <p>

          <span class="line">
            <a href="https://hex.pm/packages/venomous/0.7.6" class="footer-hex-package">Hex Package</a>

            <a href="https://preview.hex.pm/preview/venomous/0.7.6">Hex Preview</a>

              (<a href="https://preview.hex.pm/preview/venomous/0.7.6/show/README.md">current file</a>)

          </span>

        <span class="line">
          <button class="a-main footer-button display-quick-switch" title="Search HexDocs packages">
            Search HexDocs
          </button>

            <a href="Venomous.epub" title="ePub version">
              Download ePub version
            </a>

        </span>
      </p>

      <p class="built-using">
        Built using
        <a href="https://github.com/elixir-lang/ex_doc" title="ExDoc" target="_blank" rel="help noopener" translate="no">ExDoc</a> (v0.34.0) for the

          <a href="https://elixir-lang.org" title="Elixir" target="_blank" translate="no">Elixir programming language</a>

      </p>

    </footer>
  </div>
</main>
</div>

  </body>
</html>
